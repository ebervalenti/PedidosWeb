<ui:composition template="/WEB-INF/templates/LayoutPadrao.xhtml"    
     xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui" 
      xmlns:o="http://omnifaces.org/ui">
      
     <f:metadata>
     	<o:viewParam name="pedido" value="#{cadastroPedidoBean.pedido}"/>    	
    	<f:event listener="#{cadastroPedidoBean.inicializar}" type="preRenderView"/>
    </f:metadata>
    
    <ui:define name="titulo">
	    <h:outputText rendered="#{cadastroPedidoBean.editando == true}"
	    value="Editando Pedido: #{cadastroPedidoBean.pedido.id}"/>
	    
	    <h:outputText rendered="#{cadastroPedidoBean.editando == false}" 
        value="Novo Pedido"/> 
  	</ui:define> 
    
    <ui:define name="corpo">   
        <h:form>
            <h1>
            	<h:outputText rendered="#{cadastroPedidoBean.editando == true}" 
            	value="Editando Pedido No.: #{cadastroPedidoBean.pedido.id} - 
            	#{cadastroPedidoBean.pedido.cliente.nome}"/>
            	
            	<h:outputText rendered="#{cadastroPedidoBean.editando == false}" 
            	value="Novo Pedido"/>            	
            </h1>
            
            <p:messages autoUpdate="true" closable="true"/>            
            
            <ui:include src="/pedidos/BotoesPedido.xhtml"/>      
            
            <ui:include src="/pedidos/CapaPedido.xhtml"/> 
            
            <p:tabView style="margin-top: 20px">
                <p:tab title="Itens">                                    
                </p:tab>
                
                <p:tab title="Dados de Entrega">
                    <ui:include src="/pedidos/DadossEntregaPedido.xhtml"/> 
                 </p:tab> 
                
                <p:tab title="Observação">
                    <ui:include src="/pedidos/ObervacaoPedido.xhtml"/>                     
                </p:tab>
            </p:tabView>
               
        </h:form>   
    </ui:define>           
</ui:composition>   